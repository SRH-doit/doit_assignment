let input = document.querySelector("input");
let button = document.querySelector("button");
let result = document.querySelector(".result");
let question = document.querySelector(".question");
let newWord = "";

// 입력 이벤트 핸들러
function handleInput() {
  newWord = input.value.trim();

  if (newWord === "") {
    result.textContent = "단어를 입력해주세요.";
    return;
  }

  if (question.textContent === "") {
    // 첫 단어인 경우
    question.textContent = newWord;
    result.textContent = "첫 단어를 입력했습니다.";
    input.value = "";
    input.focus();
  } else {
    let lastLetter = question.textContent.slice(-1);
    let firstLetter = newWord.charAt(0);

    if (firstLetter === lastLetter) {
      // 올바른 단어인 경우
      question.textContent = newWord;
      result.textContent = "정답입니다!";
      input.value = "";
      input.focus();
    } else {
      // 올바르지 않은 단어인 경우
      result.textContent = "잘못된 단어입니다. 다시 시도해주세요.";
      input.value = "";
      input.focus();
    }
  }
}

// 게임 시작 버튼 클릭 이벤트 핸들러
function handleStartGame() {
  question.textContent = "";
  result.textContent = "";
  input.value = "";
  input.disabled = false;
  button.disabled = true;
  input.focus();
}

// 이벤트 리스너 등록
input.addEventListener("keypress", function (e) {
  if (e.key === "Enter") {
    handleInput();
  }
});

button.addEventListener("click", handleStartGame);
